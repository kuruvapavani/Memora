import admin from "./src/utils/firebaseAdmin.js";


const testToken = "eyJhbGciOiJSUzI1NiIsImtpZCI6ImU4MWYwNTJhZWYwNDBhOTdjMzlkMjY1MzgxZGU2Y2I0MzRiYzM1ZjMiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiQW5vbnltb3VzIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL21lbW9yYS0yMzIwZSIsImF1ZCI6Im1lbW9yYS0yMzIwZSIsImF1dGhfdGltZSI6MTc1OTUzMDA3OSwidXNlcl9pZCI6ImVrTXBXSUJxeXBaVHZGYjlsaVcxZ1hZOWhiazEiLCJzdWIiOiJla01wV0lCcXlwWlR2RmI5bGlXMWdYWTloYmsxIiwiaWF0IjoxNzU5NTMwMDc5LCJleHAiOjE3NTk1MzM2NzksImVtYWlsIjoiYnVidTEzMjEwNEBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiYnVidTEzMjEwNEBnbWFpbC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.BNCtZtaeZ7DwN1byup6gwn3NkGrQ_xt-JL24OhZKI5TOzF4v3BaM69_vEy9r6E7FeJWKzagIMLvoEmvc57uzp3PTDUQCUxoPggk2EyNubsJXyR5219DDNGLQiNKIlzL7ODonH9J34XymxdlIGj2Lf-GCV2eekWse2vYH5Mz11N97y8HNRbJC0CuJZOUsqliplnCm2doY2EuIQCDs_JXbNtxQ6Y8oCRDsn0aL2OvOUMbRQ35iDbZVSwPb9ElCKKkJDbwjT67ydB12EuRyndXa3blLJfmhkB1WhDNzBFpdrmtygTitFVyxb9i28cTIN4bhm95-_bRceKv1byv1Uz2J7A";

try {
  const decoded = await admin.auth().verifyIdToken(testToken);
  console.log("Token valid, decoded:", decoded);
} catch (err) {
  console.error("Token verification failed:", err);
}
